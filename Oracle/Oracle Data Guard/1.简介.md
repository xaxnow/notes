# 一、Data Guard配置
## 1.主库
```
可以是单节点数据库,也可以是rac数据库
```
## 2.备库
### 2.1物理备库(Redo Apply)
```
    提供主数据库的物理上相同的副本,在磁盘上的数据库结构在块对块的基础上与主数据库相同,通过应用redo日志与主库同步.
    用途:数据保护,只读查询
```
### 2.2逻辑备库(SQL Apply)
```
    包含与生产数据库相同的逻辑信息，尽管数据的物理组织和结构可能不同。通过将redo日志转换成SQL,然后应用SQL与主库同步.
    用途:数据保护,只读查询,数据库升级
```
### 2.3快照备库
```
    类似事务的savepoint
    一个完全可更新的备用数据库，由物理备用数据库转换而来。
    接收和归档来自主数据库的重做数据，但不应用它们。一旦快照备用数据库被转换回物理备用数据库，在丢弃对快照备用数据库的所有本地更新后，将应用从主数据库接收的重做数据。
```
# 二、Data Guard服务
```
1.Redo Transport Services:控制主库到备库redo数据传输
2.Apply Services:应用归档的redo数据,如果是实时应用则直接应用redo数据
3.Role Transitions:在failover或switchover后切换数据库角色
```
# 三、Data Guard Broker
```
创建,维护,监控Data Guard
```
# 四、Data Guard保护模式
## 1.Maximum availability 
```
在不影响主数据库可用性的情况下可能提供的最高级别的数据保护。在将恢复这些事务所需的所有重做数据写入至少一个同步备用数据库的在线重做日志和备用重做日志之前，事务不会提交。如果主数据库不能将其重做流写入至少一个同步备用数据库，则其操作方式就像处于最大性能模式一样，以保持主数据库的可用性，直到再次能够将其重做流写入同步机为止
```
## 2.Maximum performance(默认)
```
通过允许事务提交完成的，只要这些事务生成的所有重做数据都已写入在线日志。重做数据也被写入一个或多个备用数据库，但这是根据事务承诺异步完成的，因此主数据库性能不受向备用数据库写入重做数据延迟的影响
```
## 3.Maximum protection 
```
确保在主数据库失败时不会发生数据丢失.在事务提交之前，必须将恢复事务所需的重做数据写入至少一个同步备用数据库上的联机重做日志和备用重做日志。为了确保不会发生数据丢失，如果主数据库不能将其重做流写入至少一个同步备用数据库，则主数据库将关闭，而不是继续处理事务
```
# 五、Client Failover(客户端故障转移)
```
客户机故障转移包括故障通知、陈旧的连接清理和到新主数据库的透明重连接。Oracle数据库提供了将数据库故障转移与故障转移过程集成的功能，该过程在数据库故障转移后几秒钟内自动将客户机重定向到新的主数据库
```
# 六、Data Guard and Complementary Technologies(数据保护和补充技术)
+ RAC
+ Flashback Database
+ Recovery Manager (RMAN)

